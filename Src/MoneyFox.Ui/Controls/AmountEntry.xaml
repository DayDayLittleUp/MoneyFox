<?xml version="1.0" encoding="utf-8"?>

<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:converter="clr-namespace:MoneyFox.Ui.Converter"
             xmlns:controls="clr-namespace:MoneyFox.Ui.Controls"
             x:Name="this"
             x:Class="MoneyFox.Ui.Controls.AmountEntry">

    <ContentView.Resources>
        <converter:DecimalConverter x:Key="DecimalConverter" />
        <converter:InverseBoolConverter x:Key="InverseBoolConverter" />
    </ContentView.Resources>

    <VerticalStackLayout Spacing="6"
                         BindingContext="{x:Reference this}">
        <Label Text="{Binding AmountFieldTitle}" />

        <Border Padding="20,0"
                BackgroundColor="{AppThemeBinding Dark={StaticResource ControlBackgroundColorDark}, Light={StaticResource ControlBackgroundColorLight}}"
                BindingContext="{x:Reference this}">

            <Border.StrokeShape>
                <RoundRectangle CornerRadius="10" />
            </Border.StrokeShape>

            <Grid>
                <controls:BorderlessEntry
                    x:Name="AmountField"
                    Text="{Binding Amount,Converter={StaticResource DecimalConverter}}"
                    IsEnabled="{Binding IsReadOnly, Converter={StaticResource InverseBoolConverter}}"
                    Placeholder="{Binding EntryPlaceholder}"
                    Keyboard="Numeric"
                    HorizontalTextAlignment="End"
                    Focused="AmountFieldGotFocus" />
            </Grid>
        </Border>
    </VerticalStackLayout>
</ContentView>